<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Coches</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <ion-accordion-group>
    <ion-accordion>
      <ion-item slot="header" color="light">
        <ion-title>Añadir Coche</ion-title>
      </ion-item>
      <div class="ion-padding" slot="content">
        <app-annadir-coche (cocheAnadido)="onCocheActualizado()"></app-annadir-coche>
      </div>
      
    </ion-accordion>
  </ion-accordion-group>

  <ion-grid>
    <ion-row>
      <ion-col size="12" size-md="6">
        <ion-list class="rounded-list">
          <ion-item *ngFor="let coche of cochesCol1">
            <ion-card class="coche-card">
              <!-- Cabecera del coche -->
              <ion-card-header>
                <ion-card-title>{{ coche.marca }} {{ coche.modelo }} ({{coche.matricula}})</ion-card-title>
              </ion-card-header>
              <ion-card-content class="coche-content">
                <!-- Imagen del coche -->
                <ion-thumbnail class="coche-thumbnail">
                  <img [src]="coche.foto" alt="{{ coche.marca }} {{ coche.modelo }}">
                </ion-thumbnail>

                <!-- Acordeón para información adicional -->
                <ion-accordion-group>
                  <ion-accordion value="info">
                    <ion-item slot="header" color="light">
                      <ion-title>Más información</ion-title>
                    </ion-item>

                    <!-- Modifica el contenido del acordeón así: -->
                    <div class="ion-padding" slot="content">
                      <div class="info-container">
                        <!-- Bloque de información -->
                        <div class="info-details">
                          <h2>Fecha: {{ coche.fecha }}</h2>
                          <h2>Kilometraje: {{ coche.kilometros }}</h2>
                          <h2>Combustible: {{ coche.combustible }}</h2>
                          <h2>Precio: {{ coche.precio | currency:'EUR' }}</h2>
                        </div>
                        
                        <!-- Bloque de botones -->
                        <div class="button-group">
                          <ion-button fill="outline" color="danger" (click)="eliminarCoche(coche)">
                            <ion-icon name="close-outline"></ion-icon>
                            Eliminar
                          </ion-button>
                        </div>
                      </div>

                      <br>
                      <ion-accordion-group class="custom-accordion" expand="inset">
                        <ion-accordion value="second">
                          <ion-item slot="header">
                            <ion-title>Modificar Coche</ion-title>
                          </ion-item>
                          <div class="ion-padding" slot="content">
                            <app-modificar-coche 
                              [cocheId]="coche.id" 
                              (cocheModificado)="onCocheActualizado()">
                            </app-modificar-coche>
                          </div>
                        </ion-accordion>
                      </ion-accordion-group>
                    </div>

                  </ion-accordion>
                </ion-accordion-group>
              </ion-card-content>
            </ion-card>
          </ion-item>
        </ion-list>
      </ion-col>

      <ion-col size="12" size-md="6">
        <ion-list class="rounded-list">
          <ion-item *ngFor="let coche of cochesCol2">
            <ion-card class="coche-card">
              <!-- Cabecera del coche -->
              <ion-card-header>
                <ion-card-title>{{ coche.marca }} {{ coche.modelo }} ({{coche.matricula}})</ion-card-title>
              </ion-card-header>
              <ion-card-content class="coche-content">
                <!-- Imagen del coche -->
                <ion-thumbnail class="coche-thumbnail">
                  <img [src]="coche.foto" alt="{{ coche.marca }} {{ coche.modelo }}">
                </ion-thumbnail>

                <!-- Acordeón para información adicional -->
                <ion-accordion-group>
                  <ion-accordion value="info">
                    <ion-item slot="header" color="light">
                      <ion-title>Más información</ion-title>
                    </ion-item>
                    <!-- Modifica el contenido del acordeón así: -->
                    <div class="ion-padding" slot="content">
                      <div class="info-container">
                        <!-- Bloque de información -->
                        <div class="info-details">
                          <h2>Fecha: {{ coche.fecha }}</h2>
                          <h2>Kilometraje: {{ coche.kilometros }}</h2>
                          <h2>Combustible: {{ coche.combustible }}</h2>
                          <h2>Precio: {{ coche.precio | currency:'EUR' }}</h2>
                        </div>
                        
                        <!-- Bloque de botones -->
                        <div class="button-group">
                          <ion-button fill="outline" color="danger" (click)="eliminarCoche(coche)">
                            <ion-icon name="close-outline"></ion-icon>
                            Eliminar
                          </ion-button>
                        </div>
                      </div>

                      <br>
                      <ion-accordion-group class="custom-accordion" expand="inset">
                        <ion-accordion value="second">
                          <ion-item slot="header">
                            <ion-title>Modificar Coche</ion-title>
                          </ion-item>
                          <div class="ion-padding" slot="content">
                            <app-modificar-coche 
                              [cocheId]="coche.id" 
                              (cocheModificado)="onCocheActualizado()">
                            </app-modificar-coche>
                          </div>
                        </ion-accordion>
                      </ion-accordion-group>

                    </div>

                  </ion-accordion>
                </ion-accordion-group>
              </ion-card-content>
            </ion-card>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>